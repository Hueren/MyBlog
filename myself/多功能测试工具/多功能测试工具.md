# 多功能测试工具

<mark>参考https://oshwhub.com/heyh/dian-jing-testpen</mark>

## 预期功能

1、电压测量+阈值判断，阈值电平可以根据需求自行设定满足不同逻辑电平的场景，并且保留“简易逻辑电平测试笔“好用的红绿灯提示功能；

2、通断测量，且阈值电阻可以根据需求调整（这可是在葫芦客上千元的万用表中才有的功能，我也要给我的测试笔加上）；

3、二极管测量，导通电压测量，并且点亮一颗二极管（注意！不是三极管！！！）；

4、PWM输出，方便在一些场景下提供一个已知量对系统进行测试，也可以对无源蜂鸣器等进行测试

5、PWM输入，可以对频率进行测量（甚至是对串口等数据进行简单的解码显示等功能，不过目前技术有限还没有实现）

6、直流输出，模拟出一个需要的直流电平进行测试（感谢李老师提出的这个需求，我在使用中发现非常的实用）

## 电路设计

#### 模拟前端设计

AFE(Analog Front End)，模拟前端，处理信号源给出的模拟信号，对其进行数字化，其主要功能包括以下几个方面：信号放大、频率变换、调制、解调、邻频处理、电平调整与控制、混合。

##### 模拟电路电源

<img title="" src="https://telegraph-image666.pages.dev/file/4ffab101b9b7838f7fbe6.png" alt="" data-align="center">

##### 信号输入电路

#### 长按开机电路

<img title="" src="https://telegraph-image666.pages.dev/file/5d85314b1b1053b130f19.png" alt="" data-align="center">

长按5向按键的中键被按下，并保持长按，单片机控制PW_CT持续输出高电平，完成开机。

#### 蜂鸣器电路设计

<img title="" src="https://telegraph-image666.pages.dev/file/a442644b446963f15bb79.png" alt="" data-align="center">

蜂鸣器供电中串联200Ω的电阻用来限制电流，阻值不能设定的太小，否则会因为过大的电流拉低系统电压，从而引发异常。
